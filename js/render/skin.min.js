"use strict";!function(m){var n={showAxes:!1,showGrid:!1,autoResize:!1,controls:{enabled:!0,zoom:!0,rotate:!0,pan:!0},camera:{x:20,y:35,z:20},canvas:{width:void 0,height:void 0},render:{taa:!1}};function e(e,t){console.log(t),console.log(e),this.element=t,this._element=t||m.document.body,this._animId=-1,this.options=Object.assign({},n,e),THREE.OrbitControls||(console.warn("OrbitControls not found. Disabling skin controls."),this.options.controls.enabled=!1),this._element.skinRender=this}e.prototype.render=function(a,d){var f=this,x=!1;function s(e,t){x=!0,e.needsUpdate=!0,t&&(t.needsUpdate=!0);var n=-1;32===e.image.height?n=0:64===e.image.height?n=1:console.error("Couldn't detect texture version. Invalid dimensions: "+e.image.width+"x"+e.image.height),console.log("Skin Texture Version: "+n),e.magFilter=THREE.NearestFilter,e.minFilter=THREE.NearestFilter,e.anisotropy=0,t&&(t.magFilter=THREE.NearestFilter,t.minFilter=THREE.NearestFilter,t.anisotropy=0);var o=new THREE.Scene;f._scene=o;var r,a=new THREE.PerspectiveCamera(75,(f.options.canvas.width||m.innerWidth)/(f.options.canvas.height||m.innerHeight),.1,1e3),s=new THREE.WebGLRenderer({alpha:!0,antialias:!0});if((f._renderer=s).setSize(f.options.canvas.width||m.innerWidth,f.options.canvas.height||m.innerHeight),s.setClearColor(0,0),f._element.appendChild(f._canvas=s.domElement),f.options.render.taa){if(!THREE.EffectComposer)return void console.error("Missing EffectComposer! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/EffectComposer.js");if(!THREE.RenderPass)return void console.error("Missing RenderPass! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/RenderPass.js");if(!THREE.TAARenderPass)return void console.error("Missing TAARenderPass! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/TAARenderPass.js");if(THREE.SSAARenderPass||console.error("Missing SSAARenderPass! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/SSAARenderPass.js"),THREE.ShaderPass||console.error("Missing ShaderPass! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/ShaderPass.js"),!THREE.CopyShader)return void console.error("Missing CopyShader! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/shaders/CopyShader.js");r=new THREE.EffectComposer(s),f._composer=r;var i=new THREE.TAARenderPass(o,a);i.unbiased=!1,r.addPass(i);var l=new THREE.RenderPass(o,a);l.enabled=!1,r.addPass(l);var h=new THREE.ShaderPass(THREE.CopyShader);h.renderToScreen=!0,r.addPass(h)}if(f.options.controls.enabled){var c=new THREE.OrbitControls(a,s.domElement);c.enableZoom=f.options.controls.zoom,c.enableRotate=f.options.controls.rotate,c.enablePan=f.options.controls.pan,c.target.set(0,18,0)}f.options.autoResize&&m.addEventListener("resize",function(){var e=f.element?f.element.offsetWidth:m.innerWidth,t=f.element?f.element.offsetHeight:m.innerHeight;f._resize(e,t)},!1),f._resize=function(e,t){if(a.aspect=e/t,a.updateProjectionMatrix(),s.setSize(e,t),f.options.render.taa){var n=s.getPixelRatio(),o=Math.floor(e/n)||1,i=Math.floor(t/n)||1;r.setSize(o,i)}},f.options.showAxes&&o.add(g(100)),f.options.showGrid&&o.add(new THREE.GridHelper(100,100)),console.log("Slim: "+E);var p=y(e,t,n,E);o.add(p),f.playerModel=p,a.position.x=f.options.camera.x,a.position.y=f.options.camera.y,a.position.z=f.options.camera.z,a.lookAt(new THREE.Vector3(0,18,0));var w=function(){f._animId=requestAnimationFrame(w),f.getElement().dispatchEvent(new CustomEvent("skinRender",{detail:{playerModel:p}})),f.options.render.taa?r.render():s.render(o,a)};(f._animate=w)(),"function"==typeof d&&d()}f._skinImage=new Image,f._skinImage.crossOrigin="anonymous",f._capeImage=new Image,f._capeImage.crossOrigin="anonymous";var l=void 0!==a.capeUrl||void 0!==a.capeData||void 0!==a.mineskin,E=!1,h=!1,c=!1,p=new THREE.Texture,w=new THREE.Texture;if(p.image=f._skinImage,f._skinImage.onload=function(){if(f._skinImage){if(h=!0,console.log("Skin Image Loaded"),void 0===a.slim){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=f._skinImage.width,e.height=f._skinImage.height,t.drawImage(f._skinImage,0,0),console.log("Slim Detection:");for(var n=t.getImageData(46,52,1,12).data,o=t.getImageData(54,20,1,12).data,i=!0,r=3;r<48;r+=4){if(255===n[r]){i=!1;break}if(255===o[r]){i=!1;break}}console.log(i),i&&(E=!0)}!h||!c&&l||x||s(p,w)}},f._skinImage.onerror=function(e){console.warn("Skin Image Error"),console.warn(e)},console.log("Has Cape: "+l),l?(w.image=f._capeImage,f._capeImage.onload=function(){f._capeImage&&(c=!0,console.log("Cape Image Loaded"),c&&h&&(x||s(p,w)))},f._capeImage.onerror=function(e){console.warn("Cape Image Error"),console.warn(e),c=!0,h&&(x||s(p))}):(w=null,f._capeImage=null),"string"==typeof a)0===a.indexOf("http")?f._skinImage.src=a:a.length<=16?t("https://skinrender.ga/nameToUuid.php?name="+a,function(e,t){if(e)return console.log(e);console.log(t),f._skinImage.src="https://crafatar.com/skins/"+(t.id?t.id:a)}):a.length<=36?image.src="https://crafatar.com/skins/"+a+"?overlay":f._skinImage.src=a;else{if("object"!=typeof a)throw new Error("Invalid texture value");a.url?f._skinImage.src=a.url:a.data?f._skinImage.src=a.data:a.username?t("https://skinrender.ga/nameToUuid.php?name="+a.username,function(e,t){if(e)return console.log(e);f._skinImage.src="https://crafatar.com/skins/"+(t.id?t.id:a.username)+"?overlay"}):a.uuid?f._skinImage.src="https://crafatar.com/skins/"+a.uuid+"?overlay":a.mineskin&&(f._skinImage.src="https://api.mineskin.org/render/texture/"+a.mineskin),a.capeUrl?f._capeImage.src=a.capeUrl:a.capeData?f._capeImage.src=a.capeData:a.mineskin&&(f._capeImage.src="https://api.mineskin.org/render/texture/"+a.mineskin+"/cape"),E=a.slim}},e.prototype.resize=function(e,t){return this._resize(e,t)},e.prototype.reset=function(){this._skinImage=null,this._capeImage=null,this._animId&&cancelAnimationFrame(this._animId),this._canvas&&this._canvas.remove()},e.prototype.getElement=function(){return this._element},e.prototype.getPlayerModel=function(){return this.playerModel},e.prototype.getModelByName=function(e){return this._scene.getObjectByName(e,!0)};var b=function(e,t,n,o,i,r,a,s){var l=e.image.width,h=e.image.height,c=new THREE.BoxGeometry(t,n,o),p=new THREE.MeshBasicMaterial({map:e,transparent:s||!1,side:s?THREE.DoubleSide:THREE.FrontSide});c.computeBoundingBox(),c.faceVertexUvs[0]=[];for(var w=["right","left","top","bottom","front","back"],d=[],f=0;f<w.length;f++){var x=i[w[f]],E=l,m=h,y=(r&&x.sx?x.sx:x.x)/E,g=x.y/m,v=((r&&x.sx?x.sx:x.x)+(r&&x.sw?x.sw:x.w))/E,u=(x.y+x.h)/m;d[f]=[new THREE.Vector2(y,u),new THREE.Vector2(y,g),new THREE.Vector2(v,g),new THREE.Vector2(v,u)];var R,T=x.flipX;x.flipY&&(R=d[f].slice(0),d[f][0]=R[2],d[f][1]=R[3],d[f][2]=R[0],d[f][3]=R[1]),T&&(R=d[f].slice(0),d[f][0]=R[3],d[f][1]=R[2],d[f][2]=R[1],d[f][3]=R[0])}var H=0;for(f=0;f<d.length;f++)c.faceVertexUvs[0][H]=[d[f][0],d[f][1],d[f][3]],c.faceVertexUvs[0][H+1]=[d[f][1],d[f][2],d[f][3]],H+=2;c.uvsNeedUpdate=!0;var b=new THREE.Mesh(c,p);return b.name=a,b.castShadow=!0,b.receiveShadow=!1,b},y=function(e,t,n,o){var i=new THREE.Object3D;i.position.x=0,i.position.y=28,i.position.z=0,i.translateOnAxis(new THREE.Vector3(0,1,0),-4);var r=b(e,8,8,8,k.head[n],o,"head");if(r.translateOnAxis(new THREE.Vector3(0,1,0),4),i.add(r),1<=n){var a=b(e,8.504,8.504,8.504,k.hat,o,"hat",!0);a.translateOnAxis(new THREE.Vector3(0,1,0),4),i.add(a)}var s=new THREE.Object3D;s.position.x=0,s.position.y=18,s.position.z=0;var l=b(e,8,12,4,k.body[n],o,"body");if(s.add(l),1<=n){var h=b(e,8.504,12.504,4.504,k.jacket,o,"jacket",!0);s.add(h)}var c=new THREE.Object3D;c.position.x=o?-5.5:-6,c.position.y=18,c.position.z=0,c.translateOnAxis(new THREE.Vector3(0,1,0),4);var p=b(e,o?3:4,12,4,k.leftArm[n],o,"leftArm");if(p.translateOnAxis(new THREE.Vector3(0,1,0),-4),c.add(p),1<=n){var w=b(e,o?3.504:4.504,12.504,4.504,k.leftSleeve,o,"leftSleeve",!0);w.translateOnAxis(new THREE.Vector3(0,1,0),-4),c.add(w)}var d=new THREE.Object3D;d.position.x=o?5.5:6,d.position.y=18,d.position.z=0,d.translateOnAxis(new THREE.Vector3(0,1,0),4);var f=b(e,o?3:4,12,4,k.rightArm[n],o,"rightArm");if(f.translateOnAxis(new THREE.Vector3(0,1,0),-4),d.add(f),1<=n){var x=b(e,o?3.504:4.504,12.504,4.504,k.rightSleeve,o,"rightSleeve",!0);x.translateOnAxis(new THREE.Vector3(0,1,0),-4),d.add(x)}var E=new THREE.Object3D;E.position.x=-2,E.position.y=6,E.position.z=0,E.translateOnAxis(new THREE.Vector3(0,1,0),4);var m=b(e,4,12,4,k.leftLeg[n],o,"leftLeg");if(m.translateOnAxis(new THREE.Vector3(0,1,0),-4),E.add(m),1<=n){var y=b(e,4.504,12.504,4.504,k.leftTrousers,o,"leftTrousers",!0);y.translateOnAxis(new THREE.Vector3(0,1,0),-4),E.add(y)}var g=new THREE.Object3D;g.position.x=2,g.position.y=6,g.position.z=0,g.translateOnAxis(new THREE.Vector3(0,1,0),4);var v=b(e,4,12,4,k.rightLeg[n],o,"rightLeg");if(v.translateOnAxis(new THREE.Vector3(0,1,0),-4),g.add(v),1<=n){var u=b(e,4.504,12.504,4.504,k.rightTrousers,o,"rightTrousers",!0);u.translateOnAxis(new THREE.Vector3(0,1,0),-4),g.add(u)}var R=new THREE.Object3D;if(R.add(i),R.add(s),R.add(c),R.add(d),R.add(E),R.add(g),t){var T=new THREE.Object3D;T.position.x=0,T.position.y=16,T.position.z=-2.5,T.translateOnAxis(new THREE.Vector3(0,1,0),8),T.translateOnAxis(new THREE.Vector3(0,0,1),.5);var H=b(t,8,16,1,k.cape,!1,"cape");H.translateOnAxis(new THREE.Vector3(0,1,0),-8),H.translateOnAxis(new THREE.Vector3(0,0,1),-.5),H.rotation.y=180*(Math.PI/180),T.add(H),R.add(T)}return R},g=function(e){var t=new THREE.Object3D;return t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(e,0,0),16711680,!1)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(-e,0,0),16711680,!0)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,e,0),65280,!1)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,-e,0),65280,!0)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,e),255,!1)),t.add(o(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,-e),255,!0)),t},o=function(e,t,n,o){var i,r=new THREE.Geometry;return i=o?new THREE.LineDashedMaterial({linewidth:3,color:n,dashSize:3,gapSize:3}):new THREE"use strict";!function(e){var t={showAxes:!1,showGrid:!1,autoResize:!1,controls:{enabled:!0,zoom:!0,rotate:!0,pan:!0},camera:{x:20,y:35,z:20},canvas:{width:void 0,height:void 0},render:{taa:!1}};function n(n,o){console.log(o),console.log(n),this.element=o,this._element=o||e.document.body,this._animId=-1,this.options=Object.assign({},t,n),THREE.OrbitControls||(console.warn("OrbitControls not found. Disabling skin controls."),this.options.controls.enabled=!1),this._element.skinRender=this}n.prototype.render=function(t,n){var o=this,a=!1;function l(t,s){a=!0,t.needsUpdate=!0,s&&(s.needsUpdate=!0);var l=-1;32===t.image.height?l=0:64===t.image.height?l=1:console.error("Couldn't detect texture version. Invalid dimensions: "+t.image.width+"x"+t.image.height),console.log("Skin Texture Version: "+l),t.magFilter=THREE.NearestFilter,t.minFilter=THREE.NearestFilter,t.anisotropy=0,s&&(s.magFilter=THREE.NearestFilter,s.minFilter=THREE.NearestFilter,s.anisotropy=0);var h=new THREE.Scene;o._scene=h;var p,w=new THREE.PerspectiveCamera(75,(o.options.canvas.width||e.innerWidth)/(o.options.canvas.height||e.innerHeight),.1,1e3),d=new THREE.WebGLRenderer({alpha:!0,antialias:!0});if(o._renderer=d,d.setSize(o.options.canvas.width||e.innerWidth,o.options.canvas.height||e.innerHeight),d.setClearColor(0,0),o._element.appendChild(o._canvas=d.domElement),o.options.render.taa){if(!THREE.EffectComposer)return void console.error("Missing EffectComposer! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/EffectComposer.js");if(!THREE.RenderPass)return void console.error("Missing RenderPass! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/RenderPass.js");if(THREE.SSAARenderPass||console.error("Missing SSAARenderPass! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/SSAARenderPass.js"),THREE.ShaderPass||console.error("Missing ShaderPass! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/postprocessing/ShaderPass.js"),!THREE.CopyShader)return void console.error("Missing CopyShader! Please include https://cdn.rawgit.com/mrdoob/three.js/dev/examples/js/shaders/CopyShader.js");p=new THREE.EffectComposer(d),o._composer=p;var f=new THREE.SSAARenderPass(h,w);f.unbiased=!0,p.addPass(f);var x=new THREE.RenderPass(h,w);x.enabled=!1,p.addPass(x);var E=new THREE.ShaderPass(THREE.CopyShader);E.renderToScreen=!0,p.addPass(E)}if(o.options.controls.enabled){var m=new THREE.OrbitControls(w,d.domElement);m.enableZoom=o.options.controls.zoom,m.enableRotate=o.options.controls.rotate,m.enablePan=o.options.controls.pan,m.target.set(0,18,0)}o.options.autoResize&&e.addEventListener("resize",function(){var t=o.element?o.element.offsetWidth:e.innerWidth,n=o.element?o.element.offsetHeight:e.innerHeight;o._resize(t,n)},!1),o._resize=function(e,t){if(w.aspect=e/t,w.updateProjectionMatrix(),d.setSize(e,t),o.options.render.taa){var n=d.getPixelRatio(),i=Math.floor(e/n)||1,r=Math.floor(t/n)||1;p.setSize(i,r)}},o.options.showAxes&&h.add(r(100)),o.options.showGrid&&h.add(new THREE.GridHelper(100,100)),console.log("Slim: "+c);var y=i(t,s,l,c);h.add(y),o.playerModel=y,w.position.x=o.options.camera.x,w.position.y=o.options.camera.y,w.position.z=o.options.camera.z,w.lookAt(new THREE.Vector3(0,18,0));var g=function(){o._animId=requestAnimationFrame(g),o.getElement().dispatchEvent(new CustomEvent("skinRender",{detail:{playerModel:y}})),o.options.render.taa?p.render():d.render(h,w)};o._animate=g,g(),"function"==typeof n&&n()}o._skinImage=new Image,o._skinImage.crossOrigin="anonymous",o._capeImage=new Image,o._capeImage.crossOrigin="anonymous";var h=void 0!==t.capeUrl||void 0!==t.capeData||void 0!==t.mineskin,c=!1,p=!1,w=!1,d=new THREE.Texture,f=new THREE.Texture;if(d.image=o._skinImage,o._skinImage.onload=function(){if(o._skinImage){if(p=!0,console.log("Skin Image Loaded"),void 0===t.slim){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=o._skinImage.width,e.height=o._skinImage.height,n.drawImage(o._skinImage,0,0),console.log("Slim Detection:");for(var i=n.getImageData(46,52,1,12).data,r=n.getImageData(54,20,1,12).data,s=!0,x=3;x<48;x+=4){if(255===i[x]){s=!1;break}if(255===r[x]){s=!1;break}}console.log(s),s&&(c=!0)}!p||!w&&h||a||l(d,f)}},o._skinImage.onerror=function(e){console.warn("Skin Image Error"),console.warn(e)},console.log("Has Cape: "+h),h?(f.image=o._capeImage,o._capeImage.onload=function(){o._capeImage&&(w=!0,console.log("Cape Image Loaded"),w&&p&&(a||l(d,f)))},o._capeImage.onerror=function(e){console.warn("Cape Image Error"),console.warn(e),w=!0,p&&(a||l(d))}):(f=null,o._capeImage=null),"string"==typeof t)0===t.indexOf("http")?o._skinImage.src=t:t.length<=16?s("https://skinrender.ga/nameToUuid.php?name="+t,function(e,n){if(e)return console.log(e);console.log(n),o._skinImage.src="https://crafatar.com/skins/"+(n.id?n.id:t)}):t.length<=36?image.src="https://crafatar.com/skins/"+t+"?overlay":o._skinImage.src=t;else{if("object"!=typeof t)throw new Error("Invalid texture value");t.url?o._skinImage.src=t.url:t.data?o._skinImage.src=t.data:t.username?s("https://skinrender.ga/nameToUuid.php?name="+t.username,function(e,n){if(e)return console.log(e);o._skinImage.src="https://crafatar.com/skins/"+(n.id?n.id:t.username)+"?overlay"}):t.uuid?o._skinImage.src="https://crafatar.com/skins/"+t.uuid+"?overlay":t.mineskin&&(o._skinImage.src="https://api.mineskin.org/render/texture/"+t.mineskin),t.capeUrl?o._capeImage.src=t.capeUrl:t.capeData?o._capeImage.src=t.capeData:t.mineskin&&(o._capeImage.src="https://api.mineskin.org/render/texture/"+t.mineskin+"/cape"),c=t.slim}},n.prototype.resize=function(e,t){return this._resize(e,t)},n.prototype.reset=function(){this._skinImage=null,this._capeImage=null,this._animId&&cancelAnimationFrame(this._animId),this._canvas&&this._canvas.remove()},n.prototype.getElement=function(){return this._element},n.prototype.getPlayerModel=function(){return this.playerModel},n.prototype.getModelByName=function(e){return this._scene.getObjectByName(e,!0)},n.prototype.toggleSkinPart=function(e,t){this._scene.getObjectByName(e,!0).visible=t};var o=function(e,t,n,o,i,r,a,s){var l=e.image.width,h=e.image.height,c=new THREE.BoxGeometry(t,n,o),p=new THREE.MeshBasicMaterial({map:e,transparent:s||!1,side:s?THREE.DoubleSide:THREE.FrontSide});c.computeBoundingBox(),c.faceVertexUvs[0]=[];for(var w=["right","left","top","bottom","front","back"],d=[],f=0;f<w.length;f++){var x=i[w[f]],E=l,m=h,y=(r&&x.sx?x.sx:x.x)/E,g=x.y/m,v=((r&&x.sx?x.sx:x.x)+(r&&x.sw?x.sw:x.w))/E,u=(x.y+x.h)/m;d[f]=[new THREE.Vector2(y,u),new THREE.Vector2(y,g),new THREE.Vector2(v,g),new THREE.Vector2(v,u)];var R,T=x.flipX;x.flipY&&(R=d[f].slice(0),d[f][0]=R[2],d[f][1]=R[3],d[f][2]=R[0],d[f][3]=R[1]),T&&(R=d[f].slice(0),d[f][0]=R[3],d[f][1]=R[2],d[f][2]=R[1],d[f][3]=R[0])}var H=0;for(f=0;f<d.length;f++)c.faceVertexUvs[0][H]=[d[f][0],d[f][1],d[f][3]],c.faceVertexUvs[0][H+1]=[d[f][1],d[f][2],d[f][3]],H+=2;c.uvsNeedUpdate=!0;var b=new THREE.Mesh(c,p);return b.name=a,b.castShadow=!0,b.receiveShadow=!1,b},i=function(e,t,n,i){var r=new THREE.Object3D;r.position.x=0,r.position.y=28,r.position.z=0,r.translateOnAxis(new THREE.Vector3(0,1,0),-4);var a=o(e,8,8,8,l.head[n],i,"head");if(a.translateOnAxis(new THREE.Vector3(0,1,0),4),r.add(a),n>=1){var s=o(e,8.504,8.504,8.504,l.hat,i,"hat",!0);s.translateOnAxis(new THREE.Vector3(0,1,0),4),r.add(s)}var h=new THREE.Object3D;h.position.x=0,h.position.y=18,h.position.z=0;var c=o(e,8,12,4,l.body[n],i,"body");if(h.add(c),n>=1){var p=o(e,8.504,12.504,4.504,l.jacket,i,"jacket",!0);h.add(p)}var w=new THREE.Object3D;w.position.x=i?-5.5:-6,w.position.y=18,w.position.z=0,w.translateOnAxis(new THREE.Vector3(0,1,0),4);var d=o(e,i?3:4,12,4,l.leftArm[n],i,"leftArm");if(d.translateOnAxis(new THREE.Vector3(0,1,0),-4),w.add(d),n>=1){var f=o(e,i?3.504:4.504,12.504,4.504,l.leftSleeve,i,"leftSleeve",!0);f.translateOnAxis(new THREE.Vector3(0,1,0),-4),w.add(f)}var x=new THREE.Object3D;x.position.x=i?5.5:6,x.position.y=18,x.position.z=0,x.translateOnAxis(new THREE.Vector3(0,1,0),4);var E=o(e,i?3:4,12,4,l.rightArm[n],i,"rightArm");if(E.translateOnAxis(new THREE.Vector3(0,1,0),-4),x.add(E),n>=1){var m=o(e,i?3.504:4.504,12.504,4.504,l.rightSleeve,i,"rightSleeve",!0);m.translateOnAxis(new THREE.Vector3(0,1,0),-4),x.add(m)}var y=new THREE.Object3D;y.position.x=-2,y.position.y=6,y.position.z=0,y.translateOnAxis(new THREE.Vector3(0,1,0),4);var g=o(e,4,12,4,l.leftLeg[n],i,"leftLeg");if(g.translateOnAxis(new THREE.Vector3(0,1,0),-4),y.add(g),n>=1){var v=o(e,4.504,12.504,4.504,l.leftTrousers,i,"leftTrousers",!0);v.translateOnAxis(new THREE.Vector3(0,1,0),-4),y.add(v)}var u=new THREE.Object3D;u.position.x=2,u.position.y=6,u.position.z=0,u.translateOnAxis(new THREE.Vector3(0,1,0),4);var R=o(e,4,12,4,l.rightLeg[n],i,"rightLeg");if(R.translateOnAxis(new THREE.Vector3(0,1,0),-4),u.add(R),n>=1){var T=o(e,4.504,12.504,4.504,l.rightTrousers,i,"rightTrousers",!0);T.translateOnAxis(new THREE.Vector3(0,1,0),-4),u.add(T)}var H=new THREE.Object3D;if(H.add(r),H.add(h),H.add(w),H.add(x),H.add(y),H.add(u),t){var b=new THREE.Object3D;b.position.x=0,b.position.y=16,b.position.z=-2.5,b.translateOnAxis(new THREE.Vector3(0,1,0),8),b.translateOnAxis(new THREE.Vector3(0,0,1),.5);var k=o(t,8,16,1,l.cape,!1,"cape");k.translateOnAxis(new THREE.Vector3(0,1,0),-8),k.translateOnAxis(new THREE.Vector3(0,0,1),-.5),k.rotation.y=180*(Math.PI/180),b.add(k),H.add(b)}return H},r=function(e){var t=new THREE.Object3D;return t.add(a(new THREE.Vector3(0,0,0),new THREE.Vector3(e,0,0),16711680,!1)),t.add(a(new THREE.Vector3(0,0,0),new THREE.Vector3(-e,0,0),16711680,!0)),t.add(a(new THREE.Vector3(0,0,0),new THREE.Vector3(0,e,0),65280,!1)),t.add(a(new THREE.Vector3(0,0,0),new THREE.Vector3(0,-e,0),65280,!0)),t.add(a(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,e),255,!1)),t.add(a(new THREE.Vector3(0,0,0),new THREE.Vector3(0,0,-e),255,!0)),t},a=function(e,t,n,o){var i,r=new THREE.Geometry;return i=o?new THREE.LineDashedMaterial({linewidth:3,color:n,dashSize:3,gapSize:3}):new THREE.LineBasicMaterial({linewidth:3,color:n}),r.vertices.push(e.clone()),r.vertices.push(t.clone()),r.computeLineDistances(),new THREE.Line(r,i,THREE.LinePieces)};function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="json",n.onload=function(){var e=n.status;t(200===e?null:n.statusText,n.response)},n.send()}var l={head:[{right:{x:0,y:16,w:8,h:8,flipX:!0},front:{x:8,y:16,w:8,h:8},left:{x:16,y:16,w:8,h:8,flipX:!0},back:{x:24,y:16,w:8,h:8},top:{x:8,y:24,w:8,h:8},bottom:{x:16,y:24,w:8,h:8,flipX:!0,flipY:!0}},{right:{x:0,y:48,w:8,h:8,flipX:!0},front:{x:8,y:48,w:8,h:8},left:{x:16,y:48,w:8,h:8,flipX:!0},back:{x:24,y:48,w:8,h:8},top:{x:8,y:56,w:8,h:8},bottom:{x:16,y:56,w:8,h:8,flipX:!0,flipY:!0}}],body:[{right:{x:16,y:0,w:4,h:12,flipX:!0},front:{x:20,y:0,w:8,h:12},left:{x:28,y:0,w:4,h:12,flipX:!0},back:{x:32,y:0,w:8,h:12},top:{x:20,y:12,w:8,h:4},bottom:{x:28,y:12,w:8,h:4,flipY:!0}},{right:{x:16,y:32,w:4,h:12,flipX:!0},front:{x:20,y:32,w:8,h:12},left:{x:28,y:32,w:4,h:12,flipX:!0},back:{x:32,y:32,w:8,h:12},top:{x:20,y:44,w:8,h:4},bottom:{x:28,y:44,w:8,h:4,flipY:!0}}],leftArm:[{right:{x:40,y:0,w:4,h:12,flipX:!0},front:{x:44,y:0,w:4,h:12,flipX:!0},left:{x:48,y:0,w:4,h:12,flipX:!0},back:{x:52,y:0,w:4,h:12,flipX:!0},top:{x:44,y:12,w:4,h:4,flipX:!0},bottom:{x:48,y:12,w:4,h:4,flipX:!0}},{right:{x:32,y:0,w:4,h:12,flipX:!0},front:{x:36,y:0,w:4,h:12,sw:3,flipX:!0},left:{x:40,y:0,w:4,h:12,sx:39,flipX:!0},back:{x:44,y:0,w:4,h:12,sx:43,sw:3,flipX:!0},top:{x:36,y:12,w:4,h:4,sw:3,flipX:!0},bottom:{x:40,y:12,w:4,h:4,sx:39,sw:3,flipX:!0}}],rightArm:[{right:{x:40,y:0,w:4,h:12,flipX:!0},front:{x:44,y:0,w:4,h:12,flipX:!0},left:{x:48,y:0,w:4,h:12,flipX:!0},back:{x:52,y:0,w:4,h:12,flipX:!0},top:{x:44,y:12,w:4,h:4,flipX:!0},bottom:{x:48,y:12,w:4,h:4,flipX:!0}},{right:{x:40,y:32,w:4,h:12,flipX:!0},front:{x:44,y:32,w:4,h:12,sw:3,flipX:!0},left:{x:48,y:32,w:4,h:12,sx:47,flipX:!0},back:{x:52,y:32,w:4,h:12,sx:51,sw:3,flipX:!0},top:{x:44,y:44,w:4,h:4,sw:3,flipX:!0},bottom:{x:48,y:44,w:4,h:4,sx:47,sw:3,flipX:!0}}],leftLeg:[{right:{x:0,y:0,w:4,h:12,flipX:!0},front:{x:4,y:0,w:4,h:12,flipX:!1},left:{x:8,y:0,w:4,h:12,flipX:!0},back:{x:12,y:0,w:4,h:12},top:{x:4,y:12,w:4,h:4,flipX:!0},bottom:{x:8,y:12,w:4,h:4,flipX:!0}},{right:{x:16,y:0,w:4,h:12,flipX:!0},front:{x:20,y:0,w:4,h:12,flipX:!0},left:{x:24,y:0,w:4,h:12,flipX:!0},back:{x:28,y:0,w:4,h:12,flipX:!0},top:{x:20,y:12,w:4,h:4,flipX:!0},bottom:{x:24,y:12,w:4,h:4,flipX:!0}}],rightLeg:[{right:{x:0,y:0,w:4,h:12,flipX:!0},front:{x:4,y:0,w:4,h:12,flipX:!0},left:{x:8,y:0,w:4,h:12,flipX:!0},back:{x:12,y:0,w:4,h:12,flipX:!0},top:{x:4,y:12,w:4,h:4,flipX:!0},bottom:{x:8,y:12,w:4,h:4,flipX:!0}},{right:{x:0,y:32,w:4,h:12,flipX:!0},front:{x:4,y:32,w:4,h:12,flipX:!0},left:{x:8,y:32,w:4,h:12,flipX:!0},back:{x:12,y:32,w:4,h:12,flipX:!0},top:{x:4,y:44,w:4,h:4,flipX:!0},bottom:{x:8,y:44,w:4,h:4,flipX:!0}}],hat:{right:{x:32,y:48,w:8,h:8,flipX:!0},front:{x:40,y:48,w:8,h:8},left:{x:48,y:48,w:8,h:8,flipX:!0},back:{x:56,y:48,w:8,h:8},top:{x:40,y:56,w:8,h:8},bottom:{x:48,y:56,w:8,h:8,flipY:!0}},jacket:{right:{x:16,y:16,w:4,h:12},front:{x:20,y:16,w:8,h:12},left:{x:26,y:16,w:4,h:12},back:{x:32,y:16,w:8,h:12},top:{x:20,y:28,w:8,h:4},bottom:{x:28,y:28,w:8,h:4}},leftSleeve:{right:{x:48,y:0,w:4,h:12},front:{x:52,y:0,w:4,h:12,sw:3},left:{x:56,y:0,w:4,h:12,sx:55},back:{x:60,y:0,w:4,h:12,sx:59,sw:3},top:{x:52,y:12,w:4,h:4,sw:3},bottom:{x:56,y:12,w:4,h:4,sx:55,sw:3}},rightSleeve:{right:{x:40,y:16,w:4,h:12},front:{x:44,y:16,w:4,h:12,sw:3},left:{x:48,y:16,w:4,h:12,sx:47},back:{x:52,y:16,w:4,h:12,sx:51,sw:3},top:{x:44,y:28,w:4,h:4,sw:3},bottom:{x:48,y:28,w:4,h:4,sx:47,sw:3}},leftTrousers:{right:{x:0,y:0,w:4,h:12},front:{x:4,y:0,w:4,h:12},left:{x:8,y:0,w:4,h:12},back:{x:12,y:0,w:4,h:12},top:{x:4,y:12,w:4,h:4},bottom:{x:8,y:12,w:4,h:4}},rightTrousers:{right:{x:0,y:16,w:4,h:12},front:{x:4,y:16,w:4,h:12},left:{x:8,y:16,w:4,h:12},back:{x:12,y:16,w:4,h:12},top:{x:4,y:28,w:4,h:4},bottom:{x:8,y:28,w:4,h:4}},cape:{right:{x:0,y:15,w:1,h:16},front:{x:1,y:15,w:10,h:16},left:{x:11,y:15,w:1,h:16},back:{x:12,y:15,w:10,h:16},top:{x:1,y:31,w:10,h:1},bottom:{x:11,y:31,w:10,h:1}}};e.SkinRender=n}(window);.LineBasicMaterial({linewidth:3,color:n}),r.vertices.push(e.clone()),r.vertices.push(t.clone()),r.computeLineDistances(),new THREE.Line(r,i,THREE.LinePieces)};function t(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="json",n.onload=function(){var e=n.status;t(200===e?null:n.statusText,n.response)},n.send()}var k={head:[{right:{x:0,y:16,w:8,h:8,flipX:!0},front:{x:8,y:16,w:8,h:8},left:{x:16,y:16,w:8,h:8,flipX:!0},back:{x:24,y:16,w:8,h:8},top:{x:8,y:24,w:8,h:8},bottom:{x:16,y:24,w:8,h:8,flipX:!0,flipY:!0}},{right:{x:0,y:48,w:8,h:8,flipX:!0},front:{x:8,y:48,w:8,h:8},left:{x:16,y:48,w:8,h:8,flipX:!0},back:{x:24,y:48,w:8,h:8},top:{x:8,y:56,w:8,h:8},bottom:{x:16,y:56,w:8,h:8,flipX:!0,flipY:!0}}],body:[{right:{x:16,y:0,w:4,h:12,flipX:!0},front:{x:20,y:0,w:8,h:12},left:{x:28,y:0,w:4,h:12,flipX:!0},back:{x:32,y:0,w:8,h:12},top:{x:20,y:12,w:8,h:4},bottom:{x:28,y:12,w:8,h:4,flipY:!0}},{right:{x:16,y:32,w:4,h:12,flipX:!0},front:{x:20,y:32,w:8,h:12},left:{x:28,y:32,w:4,h:12,flipX:!0},back:{x:32,y:32,w:8,h:12},top:{x:20,y:44,w:8,h:4},bottom:{x:28,y:44,w:8,h:4,flipY:!0}}],leftArm:[{right:{x:40,y:0,w:4,h:12,flipX:!0},front:{x:44,y:0,w:4,h:12,flipX:!0},left:{x:48,y:0,w:4,h:12,flipX:!0},back:{x:52,y:0,w:4,h:12,flipX:!0},top:{x:44,y:12,w:4,h:4,flipX:!0},bottom:{x:48,y:12,w:4,h:4,flipX:!0}},{right:{x:32,y:0,w:4,h:12,flipX:!0},front:{x:36,y:0,w:4,h:12,sw:3,flipX:!0},left:{x:40,y:0,w:4,h:12,sx:39,flipX:!0},back:{x:44,y:0,w:4,h:12,sx:43,sw:3,flipX:!0},top:{x:36,y:12,w:4,h:4,sw:3,flipX:!0},bottom:{x:40,y:12,w:4,h:4,sx:39,sw:3,flipX:!0}}],rightArm:[{right:{x:40,y:0,w:4,h:12,flipX:!0},front:{x:44,y:0,w:4,h:12,flipX:!0},left:{x:48,y:0,w:4,h:12,flipX:!0},back:{x:52,y:0,w:4,h:12,flipX:!0},top:{x:44,y:12,w:4,h:4,flipX:!0},bottom:{x:48,y:12,w:4,h:4,flipX:!0}},{right:{x:40,y:32,w:4,h:12,flipX:!0},front:{x:44,y:32,w:4,h:12,sw:3,flipX:!0},left:{x:48,y:32,w:4,h:12,sx:47,flipX:!0},back:{x:52,y:32,w:4,h:12,sx:51,sw:3,flipX:!0},top:{x:44,y:44,w:4,h:4,sw:3,flipX:!0},bottom:{x:48,y:44,w:4,h:4,sx:47,sw:3,flipX:!0}}],leftLeg:[{right:{x:0,y:0,w:4,h:12,flipX:!0},front:{x:4,y:0,w:4,h:12,flipX:!(e.prototype.toggleSkinPart=function(e,t){this._scene.getObjectByName(e,!0).visible=t})},left:{x:8,y:0,w:4,h:12,flipX:!0},back:{x:12,y:0,w:4,h:12},top:{x:4,y:12,w:4,h:4,flipX:!0},bottom:{x:8,y:12,w:4,h:4,flipX:!0}},{right:{x:16,y:0,w:4,h:12,flipX:!0},front:{x:20,y:0,w:4,h:12,flipX:!0},left:{x:24,y:0,w:4,h:12,flipX:!0},back:{x:28,y:0,w:4,h:12,flipX:!0},top:{x:20,y:12,w:4,h:4,flipX:!0},bottom:{x:24,y:12,w:4,h:4,flipX:!0}}],rightLeg:[{right:{x:0,y:0,w:4,h:12,flipX:!0},front:{x:4,y:0,w:4,h:12,flipX:!0},left:{x:8,y:0,w:4,h:12,flipX:!0},back:{x:12,y:0,w:4,h:12,flipX:!0},top:{x:4,y:12,w:4,h:4,flipX:!0},bottom:{x:8,y:12,w:4,h:4,flipX:!0}},{right:{x:0,y:32,w:4,h:12,flipX:!0},front:{x:4,y:32,w:4,h:12,flipX:!0},left:{x:8,y:32,w:4,h:12,flipX:!0},back:{x:12,y:32,w:4,h:12,flipX:!0},top:{x:4,y:44,w:4,h:4,flipX:!0},bottom:{x:8,y:44,w:4,h:4,flipX:!0}}],hat:{right:{x:32,y:48,w:8,h:8,flipX:!0},front:{x:40,y:48,w:8,h:8},left:{x:48,y:48,w:8,h:8,flipX:!0},back:{x:56,y:48,w:8,h:8},top:{x:40,y:56,w:8,h:8},bottom:{x:48,y:56,w:8,h:8,flipY:!0}},jacket:{right:{x:16,y:16,w:4,h:12},front:{x:20,y:16,w:8,h:12},left:{x:26,y:16,w:4,h:12},back:{x:32,y:16,w:8,h:12},top:{x:20,y:28,w:8,h:4},bottom:{x:28,y:28,w:8,h:4}},leftSleeve:{right:{x:48,y:0,w:4,h:12},front:{x:52,y:0,w:4,h:12,sw:3},left:{x:56,y:0,w:4,h:12,sx:55},back:{x:60,y:0,w:4,h:12,sx:59,sw:3},top:{x:52,y:12,w:4,h:4,sw:3},bottom:{x:56,y:12,w:4,h:4,sx:55,sw:3}},rightSleeve:{right:{x:40,y:16,w:4,h:12},front:{x:44,y:16,w:4,h:12,sw:3},left:{x:48,y:16,w:4,h:12,sx:47},back:{x:52,y:16,w:4,h:12,sx:51,sw:3},top:{x:44,y:28,w:4,h:4,sw:3},bottom:{x:48,y:28,w:4,h:4,sx:47,sw:3}},leftTrousers:{right:{x:0,y:0,w:4,h:12},front:{x:4,y:0,w:4,h:12},left:{x:8,y:0,w:4,h:12},back:{x:12,y:0,w:4,h:12},top:{x:4,y:12,w:4,h:4},bottom:{x:8,y:12,w:4,h:4}},rightTrousers:{right:{x:0,y:16,w:4,h:12},front:{x:4,y:16,w:4,h:12},left:{x:8,y:16,w:4,h:12},back:{x:12,y:16,w:4,h:12},top:{x:4,y:28,w:4,h:4},bottom:{x:8,y:28,w:4,h:4}},cape:{right:{x:0,y:15,w:1,h:16},front:{x:1,y:15,w:10,h:16},left:{x:11,y:15,w:1,h:16},back:{x:12,y:15,w:10,h:16},top:{x:1,y:31,w:10,h:1},bottom:{x:11,y:31,w:10,h:1}}};m.SkinRender=e}(window);